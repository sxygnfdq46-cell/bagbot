/**
 * LEVEL 7.2 — ENTITY EXPRESSION STYLES
 * Micro-expressions, emotional resonance, and attention acknowledgements
 * 
 * 30+ micro-transitions
 * 5 emotional palettes
 * 3 intensity levels per palette
 * 150-250ms cinematic smoothing
 */

/* ========================================
   MICRO-GLOW EXPRESSIONS (5 Types)
   ======================================== */

/* Soft Pulse - Calm state */
@keyframes micro-glow-soft-pulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(0, 136, 255, 0.3);
    filter: brightness(1);
  }
  50% {
    box-shadow: 0 0 30px rgba(0, 136, 255, 0.5);
    filter: brightness(1.1);
  }
}

.micro-glow-soft-pulse {
  animation: micro-glow-soft-pulse var(--glow-duration, 2.5s) ease-in-out infinite;
}

/* Focused Beam - Concentrated state */
@keyframes micro-glow-focused-beam {
  0%, 100% {
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.6),
                inset 0 0 10px rgba(0, 255, 255, 0.3);
    filter: brightness(1.1) contrast(1.1);
  }
  50% {
    box-shadow: 0 0 35px rgba(0, 255, 255, 0.8),
                inset 0 0 20px rgba(0, 255, 255, 0.5);
    filter: brightness(1.2) contrast(1.15);
  }
}

.micro-glow-focused-beam {
  animation: micro-glow-focused-beam var(--glow-duration, 1s) ease-in-out infinite;
}

/* Edge Shimmer - Alert state */
@keyframes micro-glow-edge-shimmer {
  0%, 100% {
    box-shadow: 0 0 25px rgba(255, 255, 0, 0.5),
                0 0 5px rgba(255, 255, 0, 0.8);
    filter: brightness(1.15) saturate(1.2);
  }
  25% {
    box-shadow: 0 0 35px rgba(255, 255, 0, 0.6),
                -5px 0 8px rgba(255, 255, 0, 0.9);
  }
  50% {
    box-shadow: 0 0 30px rgba(255, 255, 0, 0.55),
                0 5px 8px rgba(255, 255, 0, 0.85);
  }
  75% {
    box-shadow: 0 0 35px rgba(255, 255, 0, 0.6),
                5px 0 8px rgba(255, 255, 0, 0.9);
  }
}

.micro-glow-edge-shimmer {
  animation: micro-glow-edge-shimmer var(--glow-duration, 1.5s) ease-in-out infinite;
}

/* Warp Surge - Stressed state */
@keyframes micro-glow-warp-surge {
  0% {
    box-shadow: 0 0 30px rgba(255, 102, 0, 0.7);
    filter: brightness(1.1) hue-rotate(0deg);
    transform: scale(1) translateZ(0);
  }
  30% {
    box-shadow: 0 0 50px rgba(255, 102, 0, 0.9),
                0 0 20px rgba(255, 68, 0, 0.6);
    filter: brightness(1.25) hue-rotate(5deg);
    transform: scale(1.02) translateZ(0);
  }
  70% {
    box-shadow: 0 0 45px rgba(255, 102, 0, 0.85),
                0 0 25px rgba(255, 51, 0, 0.7);
    filter: brightness(1.2) hue-rotate(-5deg);
    transform: scale(1.01) translateZ(0);
  }
  100% {
    box-shadow: 0 0 30px rgba(255, 102, 0, 0.7);
    filter: brightness(1.1) hue-rotate(0deg);
    transform: scale(1) translateZ(0);
  }
}

.micro-glow-warp-surge {
  animation: micro-glow-warp-surge var(--glow-duration, 1.2s) ease-in-out infinite;
}

/* Quantum Flare - Overclocked state */
@keyframes micro-glow-quantum-flare {
  0% {
    box-shadow: 0 0 40px rgba(255, 0, 255, 0.9),
                0 0 20px rgba(255, 0, 255, 0.7),
                inset 0 0 15px rgba(255, 0, 255, 0.5);
    filter: brightness(1.3) saturate(1.5) hue-rotate(0deg);
    transform: scale(1) translateZ(0);
  }
  25% {
    box-shadow: 0 0 60px rgba(255, 0, 255, 1),
                0 0 35px rgba(255, 0, 255, 0.9),
                inset 0 0 25px rgba(255, 0, 255, 0.7);
    filter: brightness(1.4) saturate(1.6) hue-rotate(10deg);
    transform: scale(1.03) translateZ(0);
  }
  50% {
    box-shadow: 0 0 50px rgba(255, 0, 255, 0.95),
                0 0 30px rgba(204, 0, 255, 0.85),
                inset 0 0 20px rgba(255, 0, 255, 0.6);
    filter: brightness(1.35) saturate(1.55) hue-rotate(-10deg);
    transform: scale(1.02) translateZ(0);
  }
  75% {
    box-shadow: 0 0 55px rgba(255, 0, 255, 0.98),
                0 0 32px rgba(255, 0, 204, 0.88),
                inset 0 0 22px rgba(255, 0, 255, 0.65);
    filter: brightness(1.38) saturate(1.58) hue-rotate(5deg);
    transform: scale(1.025) translateZ(0);
  }
  100% {
    box-shadow: 0 0 40px rgba(255, 0, 255, 0.9),
                0 0 20px rgba(255, 0, 255, 0.7),
                inset 0 0 15px rgba(255, 0, 255, 0.5);
    filter: brightness(1.3) saturate(1.5) hue-rotate(0deg);
    transform: scale(1) translateZ(0);
  }
}

.micro-glow-quantum-flare {
  animation: micro-glow-quantum-flare var(--glow-duration, 0.8s) ease-in-out infinite;
}

/* ========================================
   EMPATHY RIPPLE EFFECTS
   ======================================== */

.empathy-ripple-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 9998;
  overflow: hidden;
}

.empathy-ripple {
  position: absolute;
  border-radius: 50%;
  border: 2px solid currentColor;
  opacity: var(--ripple-opacity, 0.5);
  transform: translate(-50%, -50%);
  animation: ripple-expand var(--ripple-duration, 2s) ease-out forwards;
}

@keyframes ripple-expand {
  0% {
    width: 0;
    height: 0;
    opacity: var(--ripple-opacity, 0.5);
  }
  100% {
    width: var(--ripple-max-size, 200px);
    height: var(--ripple-max-size, 200px);
    opacity: 0;
  }
}

.wave-trail {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: currentColor;
  opacity: var(--trail-opacity, 0.6);
  animation: trail-fade 1s ease-out forwards;
}

@keyframes trail-fade {
  0% {
    opacity: var(--trail-opacity, 0.6);
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(2);
  }
}

/* ========================================
   EMOTIONAL MOOD TRANSITIONS (150-250ms)
   ======================================== */

.mood-transition {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Warmth tone */
.mood-warmth {
  filter: hue-rotate(15deg) brightness(1.05);
  color: rgb(255, 200, 150);
}

/* Intensity tone */
.mood-intensity {
  filter: saturate(1.3) brightness(1.15) contrast(1.1);
  color: rgb(255, 180, 100);
}

/* Calm tone */
.mood-calm {
  filter: hue-rotate(-10deg) brightness(0.95) saturate(0.8);
  color: rgb(150, 200, 255);
}

/* Urgency tone */
.mood-urgency {
  filter: hue-rotate(25deg) saturate(1.4) brightness(1.2);
  color: rgb(255, 150, 80);
}

/* Presence tone */
.mood-presence {
  filter: brightness(1.1) saturate(1.1) contrast(1.05);
  color: rgb(180, 220, 255);
}

/* ========================================
   EMOTIONAL PALETTES (5 Total)
   ======================================== */

/* Calm Palette */
.palette-calm {
  --primary-color: #0088ff;
  --secondary-color: #0066cc;
  --tertiary-color: #004499;
  --warmth: -20;
  --saturation: 60%;
  --brightness: 70%;
}

/* Focused Palette */
.palette-focused {
  --primary-color: #00ffff;
  --secondary-color: #00cccc;
  --tertiary-color: #009999;
  --warmth: -10;
  --saturation: 80%;
  --brightness: 85%;
}

/* Alert Palette */
.palette-alert {
  --primary-color: #ffff00;
  --secondary-color: #ffcc00;
  --tertiary-color: #ff9900;
  --warmth: 20;
  --saturation: 90%;
  --brightness: 90%;
}

/* Stressed Palette */
.palette-stressed {
  --primary-color: #ff6600;
  --secondary-color: #ff4400;
  --tertiary-color: #cc3300;
  --warmth: 35;
  --saturation: 95%;
  --brightness: 80%;
}

/* Overclocked Palette */
.palette-overclocked {
  --primary-color: #ff00ff;
  --secondary-color: #cc00cc;
  --tertiary-color: #990099;
  --warmth: 50;
  --saturation: 100%;
  --brightness: 95%;
}

/* 3 Intensity Levels */
.intensity-low {
  opacity: 0.6;
  filter: brightness(0.85);
}

.intensity-medium {
  opacity: 0.85;
  filter: brightness(1);
}

.intensity-high {
  opacity: 1;
  filter: brightness(1.15) saturate(1.1);
}

/* ========================================
   SHADOW RESONANCE V2 (Depth-Aware)
   ======================================== */

.entity-shadow-v2 {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 9997;
  transition: all 200ms ease-out;
}

/* Expansion states */
.shadow-expand {
  transform: scale(var(--expansion-factor, 1.6));
  filter: blur(calc(var(--blur-radius, 20px) * 1.5));
}

.shadow-tighten {
  transform: scale(var(--expansion-factor, 0.7));
  filter: blur(calc(var(--blur-radius, 20px) * 0.6));
}

.shadow-sharpen {
  filter: blur(calc(var(--blur-radius, 20px) * 0.5)) contrast(1.3);
}

.shadow-diffuse {
  filter: blur(calc(var(--blur-radius, 20px) * 2)) opacity(0.7);
}

/* Flicker animation for overclocked state */
@keyframes shadow-flicker {
  0%, 100% {
    opacity: var(--flicker-opacity, 0.8);
  }
  10% {
    opacity: calc(var(--flicker-opacity, 0.8) * 0.6);
  }
  20% {
    opacity: var(--flicker-opacity, 0.8);
  }
  30% {
    opacity: calc(var(--flicker-opacity, 0.8) * 0.7);
  }
  40%, 90% {
    opacity: var(--flicker-opacity, 0.8);
  }
  95% {
    opacity: calc(var(--flicker-opacity, 0.8) * 0.5);
  }
}

.shadow-flicker {
  animation: shadow-flicker 0.8s ease-in-out infinite;
}

/* ========================================
   RESPONSE WARMTH SYSTEM
   ======================================== */

.response-warmth {
  transition: all 180ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Input warmth → hue modulation */
.warmth-warm {
  filter: hue-rotate(var(--hue-shift, 15deg)) brightness(var(--brightness-mod, 1.1));
}

.warmth-cool {
  filter: hue-rotate(var(--hue-shift, -10deg)) brightness(var(--brightness-mod, 0.9));
}

/* Focus energy → light concentration */
.warmth-focus {
  filter: brightness(1.15) contrast(1.1);
  box-shadow: 0 0 30px currentColor;
}

/* Idle calmness → soft ambient glow */
.warmth-idle {
  filter: hue-rotate(-15deg) brightness(0.85) saturate(0.9);
  box-shadow: 0 0 15px rgba(var(--primary-rgb), 0.3);
}

/* Critical engagement → quantum flare */
.warmth-critical {
  filter: hue-rotate(25deg) brightness(1.2) saturate(1.2);
  box-shadow: 0 0 50px currentColor, inset 0 0 20px currentColor;
}

/* Dynamic feedback pulse */
@keyframes feedback-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: var(--pulse-opacity, 0.7);
    transform: scale(var(--pulse-scale, 1.05));
  }
}

.feedback-pulse {
  animation: feedback-pulse calc(var(--pulse-duration, 1s)) ease-in-out infinite;
}

/* ========================================
   MICRO-ATTENTION ACKNOWLEDGEMENTS
   ======================================== */

/* Hover acknowledgement */
@keyframes micro-ack-hover {
  0% {
    box-shadow: 0 0 10px rgba(var(--ack-color), 0.3);
    transform: translateY(0);
  }
  50% {
    box-shadow: 0 0 20px rgba(var(--ack-color), 0.6);
    transform: translateY(-2px);
  }
  100% {
    box-shadow: 0 0 10px rgba(var(--ack-color), 0.3);
    transform: translateY(0);
  }
}

.micro-ack-hover {
  animation: micro-ack-hover 1.5s ease-in-out infinite;
}

/* Glance acknowledgement */
@keyframes micro-ack-glance {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
    filter: brightness(1.2);
  }
}

.micro-ack-glance {
  animation: micro-ack-glance 0.4s ease-in-out;
}

/* Quick switch acknowledgement */
@keyframes micro-ack-switch {
  0% {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
  50% {
    transform: translateX(5px) scale(1.02);
    opacity: 0.8;
  }
  100% {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

.micro-ack-switch {
  animation: micro-ack-switch 0.6s ease-out;
}

/* Pause acknowledgement */
@keyframes micro-ack-pause {
  0% {
    box-shadow: 0 0 0 rgba(var(--ack-color), 0.5);
  }
  50% {
    box-shadow: 0 0 15px rgba(var(--ack-color), 0.8);
  }
  100% {
    box-shadow: 0 0 0 rgba(var(--ack-color), 0);
  }
}

.micro-ack-pause {
  animation: micro-ack-pause 0.8s ease-out;
}

/* ========================================
   GPU ACCELERATION & PERFORMANCE
   ======================================== */

.micro-glow-soft-pulse,
.micro-glow-focused-beam,
.micro-glow-edge-shimmer,
.micro-glow-warp-surge,
.micro-glow-quantum-flare,
.empathy-ripple,
.wave-trail,
.mood-transition,
.entity-shadow-v2,
.response-warmth,
.micro-ack-hover,
.micro-ack-glance,
.micro-ack-switch,
.micro-ack-pause {
  will-change: transform, opacity, filter;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* ========================================
   ACCESSIBILITY
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  .micro-glow-soft-pulse,
  .micro-glow-focused-beam,
  .micro-glow-edge-shimmer,
  .micro-glow-warp-surge,
  .micro-glow-quantum-flare,
  .empathy-ripple,
  .wave-trail,
  .shadow-flicker,
  .feedback-pulse,
  .micro-ack-hover,
  .micro-ack-glance,
  .micro-ack-switch,
  .micro-ack-pause {
    animation: none;
  }

  .mood-transition,
  .response-warmth,
  .entity-shadow-v2 {
    transition: none;
  }
}

/* ========================================
   RESPONSIVE ADJUSTMENTS
   ======================================== */

@media (max-width: 768px) {
  .micro-glow-soft-pulse,
  .micro-glow-focused-beam,
  .micro-glow-edge-shimmer,
  .micro-glow-warp-surge,
  .micro-glow-quantum-flare {
    --glow-radius: calc(var(--glow-radius, 40px) * 0.7);
  }

  .empathy-ripple {
    --ripple-max-size: 150px;
  }
}
