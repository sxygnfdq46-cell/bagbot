/**
 * ðŸŽ¨ REACTOR CORE CSS â€” Physics-Based Animations
 * 
 * STEP 24.31 Part 3 â€” CSS Animations
 * 
 * Purpose:
 * - Physics-like animations for reactor visual elements
 * - Color themes mapped to ARL modes (CALM, ALERT, DEFENSIVE, AGGRESSIVE_OBSERVATION)
 * - GPU-accelerated transitions for smooth performance
 * - Keyframe animations: pulse, warp, tighten, surge, flicker, flow
 * 
 * Design Philosophy:
 * - Functional visual telemetry, not decoration
 * - Smooth, organic motion using easing functions
 * - Hardware-accelerated transforms (translateZ for GPU)
 * - Minimal repaints, maximum performance
 */

/* ============================================================================
   REACTOR CONTAINER
   ============================================================================ */

.reactor-core-container {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at center, #0a0a0a, #000000);
  border-radius: 8px;
  will-change: transform;
  transform: translateZ(0); /* GPU acceleration */
}

.reactor-core-container[data-mode="CALM"] {
  --reactor-primary: #00D4FF;
  --reactor-secondary: #00A8CC;
  --reactor-glow: rgba(0, 212, 255, 0.5);
}

.reactor-core-container[data-mode="ALERT"] {
  --reactor-primary: #FFD700;
  --reactor-secondary: #FFA500;
  --reactor-glow: rgba(255, 215, 0, 0.7);
}

.reactor-core-container[data-mode="DEFENSIVE"] {
  --reactor-primary: #FFFFFF;
  --reactor-secondary: #C0C0C0;
  --reactor-glow: rgba(255, 255, 255, 0.85);
}

.reactor-core-container[data-mode="AGGRESSIVE_OBSERVATION"] {
  --reactor-primary: #9D00FF;
  --reactor-secondary: #7700CC;
  --reactor-glow: rgba(157, 0, 255, 0.95);
}

/* ============================================================================
   ENERGY GRID BACKGROUND
   ============================================================================ */

.energy-grid {
  position: absolute;
  inset: 0;
  pointer-events: none;
  will-change: transform;
  transform: translateZ(0);
}

@keyframes gridFlow {
  0% {
    transform: translate(0, 0) translateZ(0);
  }
  100% {
    transform: translate(20px, 20px) translateZ(0);
  }
}

/* ============================================================================
   SHIELD RINGS
   ============================================================================ */

.shield-rings-container {
  pointer-events: none;
  will-change: transform;
  transform: translateZ(0);
}

.shield-ring {
  will-change: opacity, transform, box-shadow;
  transform: translateZ(0);
  transition: 
    border-color 0.3s ease-out,
    box-shadow 0.3s ease-out,
    opacity 0.2s ease-out;
}

@keyframes ringPulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1) translateZ(0);
    opacity: 0.8;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.05) translateZ(0);
    opacity: 1;
  }
}

/* Ring tightening effect for DEFENSIVE mode */
.reactor-core-container[data-mode="DEFENSIVE"] .shield-ring {
  animation: ringTighten 1.5s ease-in-out infinite !important;
}

@keyframes ringTighten {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1) translateZ(0);
  }
  50% {
    transform: translate(-50%, -50%) scale(0.95) translateZ(0);
  }
}

/* Ring expansion effect for AGGRESSIVE_OBSERVATION mode */
.reactor-core-container[data-mode="AGGRESSIVE_OBSERVATION"] .shield-ring {
  animation: ringExpand 1s ease-in-out infinite !important;
}

@keyframes ringExpand {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1) translateZ(0);
    opacity: 0.9;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.08) translateZ(0);
    opacity: 1;
  }
}

/* ============================================================================
   CORE PULSAR
   ============================================================================ */

.core-pulsar {
  pointer-events: none;
  will-change: transform, opacity, box-shadow;
  transform: translateZ(0);
}

@keyframes corePulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg) translateZ(0);
    box-shadow: 
      0 0 20px var(--reactor-glow),
      0 0 40px var(--reactor-secondary),
      inset 0 0 15px var(--reactor-primary);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1) rotate(180deg) translateZ(0);
    box-shadow: 
      0 0 30px var(--reactor-glow),
      0 0 60px var(--reactor-secondary),
      inset 0 0 25px var(--reactor-primary);
  }
}

/* Intense pulse for ALERT mode */
.reactor-core-container[data-mode="ALERT"] .core-pulsar {
  animation: corePulseAlert 1.2s ease-in-out infinite !important;
}

@keyframes corePulseAlert {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg) translateZ(0);
  }
  25% {
    transform: translate(-50%, -50%) scale(1.15) rotate(90deg) translateZ(0);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.05) rotate(180deg) translateZ(0);
  }
  75% {
    transform: translate(-50%, -50%) scale(1.15) rotate(270deg) translateZ(0);
  }
}

/* Rapid pulse for AGGRESSIVE_OBSERVATION mode */
.reactor-core-container[data-mode="AGGRESSIVE_OBSERVATION"] .core-pulsar {
  animation: corePulseAggressive 0.8s ease-in-out infinite !important;
}

@keyframes corePulseAggressive {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg) translateZ(0);
  }
  33% {
    transform: translate(-50%, -50%) scale(1.2) rotate(120deg) translateZ(0);
  }
  66% {
    transform: translate(-50%, -50%) scale(1.1) rotate(240deg) translateZ(0);
  }
}

/* Inner glow animation */
@keyframes innerGlow {
  0%, 100% {
    opacity: 0.6;
    transform: scale(1) translateZ(0);
  }
  50% {
    opacity: 1;
    transform: scale(1.3) translateZ(0);
  }
}

/* ============================================================================
   THREAT ARCS
   ============================================================================ */

.threat-arcs-container {
  position: absolute;
  inset: 0;
  pointer-events: none;
  will-change: transform;
  transform: translateZ(0);
}

.threat-arc {
  will-change: opacity, transform;
  transform: translateZ(0);
}

@keyframes threatFlicker {
  0%, 100% {
    opacity: 0.3;
    filter: blur(1px);
  }
  50% {
    opacity: 0.8;
    filter: blur(2px);
  }
}

/* Intense flicker for DEFENSIVE mode */
.reactor-core-container[data-mode="DEFENSIVE"] .threat-arc {
  animation: threatFlickerIntense 0.5s ease-in-out infinite !important;
}

@keyframes threatFlickerIntense {
  0%, 100% {
    opacity: 0.5;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateX(calc(var(--width) / 4)) scale(1) translateZ(0);
  }
  25% {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateX(calc(var(--width) / 4)) scale(1.1) translateZ(0);
  }
  50% {
    opacity: 0.3;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateX(calc(var(--width) / 4)) scale(0.95) translateZ(0);
  }
  75% {
    opacity: 0.9;
    transform: translate(-50%, -50%) rotate(var(--angle)) translateX(calc(var(--width) / 4)) scale(1.05) translateZ(0);
  }
}

/* ============================================================================
   SURGE LINES
   ============================================================================ */

.surge-lines-container {
  position: absolute;
  inset: 0;
  pointer-events: none;
  will-change: transform;
  transform: translateZ(0);
}

.surge-line {
  will-change: opacity, transform;
  transform: translateZ(0);
}

@keyframes surgePulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--angle)) scaleY(0) translateZ(0);
    filter: blur(1px);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(var(--angle)) scaleY(1) translateZ(0);
    filter: blur(2px);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--angle)) scaleY(1.2) translateZ(0);
    filter: blur(3px);
  }
}

/* Ultra-fast surge for AGGRESSIVE_OBSERVATION mode */
.reactor-core-container[data-mode="AGGRESSIVE_OBSERVATION"] .surge-line {
  animation: surgePulseAggressive 0.4s ease-out infinite !important;
}

@keyframes surgePulseAggressive {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--angle)) scaleY(0) translateZ(0);
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(var(--angle)) scaleY(1) translateZ(0);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--angle)) scaleY(1.5) translateZ(0);
  }
}

/* ============================================================================
   MODE INDICATOR
   ============================================================================ */

.mode-indicator {
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Droid Sans Mono', monospace;
  backdrop-filter: blur(8px);
  will-change: background, border-color, color, box-shadow;
  transition: all 0.3s ease-out;
  animation: indicatorPulse 2s ease-in-out infinite;
}

@keyframes indicatorPulse {
  0%, 100% {
    transform: translateX(-50%) scale(1) translateZ(0);
    opacity: 0.9;
  }
  50% {
    transform: translateX(-50%) scale(1.02) translateZ(0);
    opacity: 1;
  }
}

/* ============================================================================
   SPECIAL EFFECTS
   ============================================================================ */

/* Warp effect for transitions between modes */
@keyframes warpEffect {
  0% {
    transform: scale(1) translateZ(0);
    filter: blur(0);
  }
  50% {
    transform: scale(1.2) translateZ(0);
    filter: blur(4px);
  }
  100% {
    transform: scale(1) translateZ(0);
    filter: blur(0);
  }
}

.reactor-warp {
  animation: warpEffect 0.6s ease-in-out;
}

/* Overload effect for critical states */
@keyframes overloadPulse {
  0%, 100% {
    box-shadow: 
      0 0 20px var(--reactor-primary),
      0 0 40px var(--reactor-secondary),
      inset 0 0 20px var(--reactor-primary);
  }
  50% {
    box-shadow: 
      0 0 60px var(--reactor-primary),
      0 0 100px var(--reactor-secondary),
      inset 0 0 40px var(--reactor-primary);
  }
}

.reactor-overload {
  animation: overloadPulse 0.3s ease-in-out infinite !important;
}

/* Shimmer effect for energy grid */
@keyframes shimmer {
  0% {
    background-position: -100% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* ============================================================================
   PERFORMANCE OPTIMIZATIONS
   ============================================================================ */

/* Force GPU acceleration for all animated elements */
.reactor-core-container *,
.core-pulsar,
.shield-ring,
.threat-arc,
.surge-line,
.energy-grid,
.mode-indicator {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .reactor-core-container *,
  .core-pulsar,
  .shield-ring,
  .threat-arc,
  .surge-line,
  .energy-grid,
  .mode-indicator {
    animation-duration: 0.01s !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01s !important;
  }
}

/* ============================================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================================ */

@media (max-width: 768px) {
  .reactor-core-container {
    border-radius: 6px;
  }

  .mode-indicator {
    font-size: 9px;
    padding: 3px 8px;
    bottom: 5px;
  }
}

/* ============================================================================
   DARK MODE ADJUSTMENTS
   ============================================================================ */

@media (prefers-color-scheme: dark) {
  .reactor-core-container {
    background: radial-gradient(circle at center, #0a0a0a, #000000);
  }
}
